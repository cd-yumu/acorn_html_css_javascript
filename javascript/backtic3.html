<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>backtic3.html</title>
</head>
<body>
    <div class="container">
        <h1>회원 정보</h1>
        <button id="addBtn">추가하기</button>
        <button id="addBtn2">추가하기2</button>
        <table id = "test_table">
            <tr>
                <th>번호</th>
                <th>이름</th>
                <th>주소</th>
            </tr>
        </table>
    </div>

    <script>
        // table 에 추가할 sample 데이터(서버에서 받아온 데이터 라고 가정하자)
        let mem = {num:1, name:"김구라", addr:"노량진"};

        // 버튼을 누르면 테이블 row 추가하기
        document.querySelector("#addBtn").addEventListener("click", function(){
            // 방법 1 : createElement 사용

            // td 요소 3개를 만들어서
            const td1 = document.createElement("td");
            const td2 = document.createElement("td");
            const td3 = document.createElement("td");

            // 각각에 번호, 이름, 주소를 innerText 로 출력하고
            td1.innerText = mem.num;
            td2.innerText = mem.name;
            td3.innerText = mem.addr;

            // tr 요소를 만든다.
            const tr = document.createElement("tr");

            // tr 요소의 자식으로 td 요소 3개를 추가한다.
            tr.append(td1);
            tr.append(td2);
            tr.append(td3);

            // table 요소의 자식으로 위에서 만든 tr 요소를 추가한다.
            document.querySelector("table").append(tr);

        });
        
        
        // 버튼2 를 누르면 테이블 추가하기
        document.querySelector("#addBtn2").addEventListener("click", function(){
            // 방법2 : innerHTML 사용
            
            // html 형식의 문자열을 backtic 을 이용해 구성한다
            const tr = `
                <tr>
                    <td>${mem.num}</td>
                    <td>${mem.name}</td>
                    <td>${mem.addr}</td>
                </tr>
            `;

            // 문제는 있지만 일단 html 로 해석 하게끔 table 요소에 넣어보기
            document.querySelector("table").innerHTML = tr;

            // document.querySelector("table").insertAdjacentHTML("beforeend", tr);


            // document.querySelector("table").innerHTML = document.querySelector("table").innerHTML + tr;
        });












        const a = document.querySelector("#test_table");

        const b = document.getElementById("test_table");

        function test_func(){
            // a.innerText = "";

            
            // document.removeChild(a);
            // 실패함!
            // backtic3.html:85 Uncaught NotFoundError: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.

            // b.removeChild(b.firstElementChild);
            
            a.removeChild(a.firstElementChild);


        };


    </script>
</body>
</html>